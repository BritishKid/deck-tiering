<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">

    <head>
        <title>Deck Tiering</title>    <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link href="../static/css/main.css" th:href="@{/css/main.css}" rel="stylesheet" />
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    </head>
<body>

<header id ="header">
    <h1><a href="#main"  th:href="@{/}">Deck Tiering</a></h1>
</header>

<section id="banner">
    <div class="inner">
        <header>
            <h1 th:text="${title}">Decks</h1>
        </header>
        <div style="width:400px;height:690px;overflow:auto;float:left;">
        <table class="table table-striped">
                <tr>
                    <th>Rating</th>
                    <th>Tier</th>
                </tr>
                <tr th:each="deck : ${deckHistory}">
                    <td th:text="${deck.rating}">Rating</td><!--      click into for history              -->
                    <td th:text="${deck.tier}">Tier</td><!--       click into for other of this tier             -->
                </tr>
            </table>
        </div>

        <div style="width: 800px;float:right;">
            <div id="chart_div"></div>
            <div id="piechart" style="width: 900px; height: 500px;"></div>
        </div>

        <script th:inline="javascript">

            google.charts.load('current', {'packages':['corechart']});
                google.charts.setOnLoadCallback(drawChart);
            function drawChart() {

                var data = new google.visualization.DataTable();
                data.addColumn('number', 'Games');
                data.addColumn('number', 'Rating');
                data.addRows([[${chartData}]]);
                    var options = {
                    'width':800,
                    'height':300};

                var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
                chart.draw(data, options);
          }
        </script>



    </div>
</section>
</body>
</html>